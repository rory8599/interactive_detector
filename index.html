<!DOCTYPE html>
<html lang = "en">

<head>


<meta charset="UTF-8">

<title>
    Interactive Detector
</title>
<link rel = "stylesheet" href = "style.css">

<script>
    window.console = window.console || function(t) {};
</script>

<script>
    if (document.location.search.match(/type=embed/gi)) {
      window.parent.postMessage("resize", "*");
    }
  </script>

</head>

<body translate= "no">

<link href= "https://fonts.googleapis.com/css?family=Montserrat" rel= "stylesheet">

    <div class = "container">
        
        <!-- Left-side panel with rules and general info -->
        <div class = "info" id = "rules">
            <!-- Text box for game rules and info -->
            <div class = "panel-heading">
                <h4 class = "panel-title">
                    Game Rules
                </h4>
            </div>
            <div class = "panel-body" id = "rules-body">
                <!-- Rules go here (link as a text file??) -->
                All sorts of particles are produced at the detector, the ones we can detect can be put into five groups: charged hadrons, neutral hadrons, electrons, muons, and photons. <br><br>
                Each of these are represented by a button. <br><br>
                The subdetectors are specicially designed to find out information about these particles - click on them to find out more info!<br><br>
                A random particle track will appear and you need to correctly identify it using the buttons. The higher the level, the more particles will appear. How many can you identify!
            </div>
        </div>
                        
        <!-- The central app showing the detector, events, input, and score. It doesn't like detector_core for some reason-->

        <div  id = "app">
            <div id = "main_app">
                <div class="app_initoutput">
                    <p id="app_level">
                        Level: <input value = "1" type = "text" class = "app_levelwrong" id="app_level_main" disabled/> - <input value = "1" type = "text" class = "app_levelwrong" id = "app_level_sub" disabled/>
                    </p>
                    <p id="app_wrong">
                        Wrong: <input value = "0" type = "text" class = "app_levelwrong" id="app_wrong_number" disabled/>/5
                    </p>
                    
                    <p id="randomNum">
                        ..
                    </p>
                    
                </div>

                <div class = "detector" id="detector-holder">  
                    <canvas id="detector_core" width = "400" height = "400" hidden> 
                        <img src = "assets/MuonTracker_whole1.png" id = "muon-tracker">
                    </canvas>
                    <canvas id = "detector_events" width="400" height="400" hidden></canvas>  
                    <button id = "start" value = "start">Start</button>
                </div>  

                <div class ="app_input">
                    <div class = "userParticle">
                        <p>Particles: </p><textarea type = "text" value = "" id="userParticle" disabled></textarea>
                    </div>                           

                    <div class ="inputbuttons">
                        
                        <button id = "photon" name = "0" value = "0" >Photon</button>
                        <button id = "electron" name = "1" value = "1" >Electron</button>
                        <button id = "muon" name = "2" value = "2" >Muon</button>
                        <button id = "nhadron" name = "3" value = "3" >Neutral Hadron</button>
                        <button id = "chadron" name = "4" value = "4" >Charged Hadron</button>
                        
                        <button id = "clear" value = "clear" name = "Clear" >Clear</button>
                        <button id = "submit" value = "submit" name = "Submit" >Submit</button>
                        <button id = "restart" value = "restart" name = "Restart" >Restart</button>
                    </div>

                    <div class = "endgame" hidden>
                        <p>Better luck next time! <br> 
                            <p id="correctParticles"></p> particles correctly identified.
                            <p id="missedMessage" hidden>You missed: <p id = "missedParticles"></p> </p>
                            <p id="extraMessage" hidden>You incorrectly added: <p id = "extraParticles"></p> </p>
                        </p>
                        <button id = "showAllTracks">Show all particles</button>
                        <button id = "restart_end" value = "restart" name = "Restart" >Restart</button>
                    </div>
                </div>  
            </div>
        </div> 
        <!-- Right-side panel with subdetector info -->
        <div class = "info" id = "subdet">
            <div class = "panel-heading">
                <h4 class = "panel-title">
                    The Sub-Detectors
                </h4>
            </div>
            <div class = "panel-body" id = "subdet-body">
                <!-- The text for extra info for each of the subdetectors (link as text files or just insert here?) -->
                <h5 class = "subdet-head">Silicon Tracker</h5>
                <p class = "subdet-info" id = "sitr_info">
                    <!-- Silicon tracker info here -->
                    Silicon pixels make a tiny electrical signal when a particle passes through it, we can detect this and see where particles have been. This can also let us know the momentum of some particles, which is pretty handy for calculations.
                </p>

                <h5 class = "subdet-head">ECAL</h5>
                <p class = "subdet-info" id = "ecal_info">
                    <!-- ECAL info here -->
                    This is the electromagnetic calorimeter; it is also known as a scintillator. This means when particles like electrons or photons go through it, they create a flash of light. We can measure this light and from that calculate the energy of the photons and electrons.
                </p> 

                <h5 class = "subdet-head">HCAL</h5>
                <p class = "subdet-info" id = "hcal_info">
                    <!-- HCAL info here -->
                    The hadron calorimeter measures the energy of hadrons – these are particles that are made of quarks (like protons or neutrons). The hadrons will go into a thick absorber layer so the hadrons break down into particles that can be detected by a scintillator layer, just like in the electromagnetic calorimeter. 
                </p>

                <h5 class = "subdet-head">Magnet</h5>
                <p class = "subdet-info" id = "magnet_info">
                    <!-- Magnet info here -->
                    Magnets are incredibly important in particle detectors; they can control the path of charged particles. This is a very large solenoid magnet which makes a magnetic field that is 100,000 times stronger than the Earth’s!
                </p>

                <h5 class = "subdet-head">Muon Tracker</h5>
                <p class = "subdet-info" id = "muontr_info">
                    <!-- Muon tracker info here -->
                    Muons are like electrons but a lot heavier, so they aren’t stopped by the calorimeters. The final part of the detector is designed just to detect muons. The muon trackers show us where the muons have been, then based on how curved the path is we can find the momentum. 
                </p>
            </div>
        </div>
    </div>




<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>


<script src="particle.js"></script>
<script src="detector.js"></script>

<script src = "app.js"></script>

</body>


</html>