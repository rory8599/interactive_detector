<!DOCTYPE html>
<html lang = "en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>
    Particle Identifier
</title>

<link rel = "stylesheet" href = "style.css">
<link rel = "icon" type="image/png" href = "./assets/detectorIcon.png">

<script>
    window.console = window.console || function(t) {};
</script>

<script>
    if (document.location.search.match(/type=embed/gi)) {
        console.log("tick")
      window.parent.postMessage("resize", "*");
    }
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link rel="preconnect" href="https://fonts.gstatic.com"> 
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Droid+Serif|Roboto:300" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Arvo|Lato" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body translate= "no">
    <div class = "container_">
        <div id = "mobilePortraitContainer">
            <div id = "mobilePortraitMessage">
                This game works best in landscape on mobile.
            </div>
        </div>
        <div id = "introPopup">
            <form id="regForm">
            <a href="javascript:void(0)" class="closebtn" id = "closePopup" onclick="closePopup()">&times;</a>
            <div class = "introTabs" style="text-align:center;">
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
            </div>
            <h1>The Particle Identifier</h1>
            <div class="tab">
                <h3 class = "tabHeader">Introduction</h3>
                <p class="tabText">
                    Welcome to the Particle Identifier! A game that puts you in the control room of one of CERN’s particle physics experiments. 
                    
                    A series of particle tracks will appear on our detector display and we need you to identify what they are. 
                    <br><br>
                    Press next to learn more…
                </p>
                <img src = "assets/controlRoom.jpg" class = "tabImage" id ="controlRoom">
            </div>       
            <div class="tab">
                <h3 class = "tabHeader">CERN</h3>
                <p class="tabText">
                    The Large Hadron Collider at CERN is the world's largest and most powerful particle accelerator. Experiments here are designed to test the limits of particle physics, to try and better understand the building blocks of the universe.
                    <br>
                    In the LHC, particles are accelerated to almost the speed of the light, and then they’re collided at one of the detectors creating a huge burst of energy and a vast number of particles - some of which have never been seen before!  
                    <br><br>
                    Many of the particles created are very unstable and will decay within a fraction of a second often into one of 5 types that scientists can detect.
                </p><img src = "assets/CERNParticlecollision.png" class = "tabImage" id ="collisionImage">
            </div>
            <div class="tab">
                <h3 class = "tabHeader">The Particles</h3>
                <p class="tabText">
                    The CERN experiments can detect and track 5 types of particles. These are: photons, electrons, muons, neutral hadrons, charged hadrons. These all have different properties (such as mass, electric charge etc.) which means they behave differently in our detector - this is how physicists (<span style="font-style: italic; display: inline;">and you</span>) can tell them apart. 
                    <br><br>
                    Look through the information in the side panels to learn more about what these particles will look like and how the different parts of the detector work.
                </p><img src = "assets/cmsParticleAnim.gif" class = "tabImage" id ="cmsParticleAnim">
            </div>
            <div class="tab" id="finalTab">
                <h3 class = "tabHeader">How to play</h3>
                <p class="tabText">
                    Check the info tabs on either side for info on what the particles should look like. Once you press start a random particle track will appear – use the buttons to enter the particle you think it is and press SUBMIT to see if you’ve got it right! 
                    <br>
                    If you choose right you’ll go up a level and gradually more particles will appear. You can get 5 wrong before the game ends – see how many particles you can correctly identify!
                </p>
            </div>
            <div class = "nextPrevBtn" style="float:right;">
                <button class = "popupButton" type="button" id="prevBtn" onclick="nextPrev(-1,0,0)">Previous</button>
                <button class = "popupButton" type="button" id="nextBtn" onclick="nextPrev(1,0,0)">Next</button>
            </div>
        </form>
        </div>

        <div class="topnav" id="myTopnav">
            <a href="#menu" id="topnav_menu" onclick="openMenu()">&#9776;</a>
            <a href="#moreInfo" id="topnav_info" onclick="openInfo()">INFO</a>
        </div>
        
        <!-- Left-side panel with rules and general info -->
        <div class = "info" id = "menu">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <div class = "panelBody" id = "left-body"> 
                <div class="infoTabsContainer" id="infoTabsContainerLeft">
                    <button class="tablinks" onclick="openInfoTab(event, 'rulesBody')">Rules</button>
                    <button class="tablinks" onclick="openInfoTab(event, 'linksBody')">Where to next...</button>
                </div>  
                <div class = "infoTabContent" id = "rulesBody">
                    <div class = "panel-title">
                        <h4>Game Rules</h4>
                    </div>
                    <p id ="rules-text">
                        When a particle track appears, use the buttons to try and identify it as one of the 5 types of particles we can detect. The higher the level, the more particles will appear. 
                        <br><br>
                        How many can you identify!
                        <br><br>
                        <button id="reopenIntro" onclick="openPopup()">See the introduction again?</button>
                    </p>   
                </div>
                          
                <div class = "infoTabContent" id = "linksBody">
                    <div class = "panel-title"><h4>Where to next...</h4></div>
                    <div id="linksMain">
                        <h3 class = "linksHeader" id = "cernLinksHeader">Learn more about CERN</h3>
                        <p class="linksText">
                            Take a look at the pages below to find out more about CERN and its groundbreaking discoveries! 
                        </p>
                        <ul id="cernLinks">
                            <li>
                                <i class="arrow right"></i><a href="https://home.cern/science/accelerators/large-hadron-collider" target="_blank">Large Hadron Collider</a>
                            </li>
                            <li>
                                <i class="arrow right"></i><a href="https://home.cern/science/physics/higgs-boson" target="_blank">Discovery of the Higgs Boson</a>
                            </li>
                            <li>
                                <i class="arrow right"></i><a href="https://home.cern/science/computing/birth-web" target="_blank">Invention of World Wide Web</a> 
                            </li>
                        </ul>
                        <hr class="rounded">
                        <h3 class="linksHeader">Follow us:</h3>
                        <p class="linksText">
                            Follow STFC and the Particle Physics Department on social media to stay updated on STFC research and opportunities!
                        </p>
                        <div id="socialLinks">
                            <a href="https://twitter.com/PPD_STFC" target="_blank"><img src="./assets/twitter.png" class="socialLogo"></a>
                            <a href="https://www.instagram.com/bigscience_stfc/?hl=en" target="_blank"><img src="./assets/instagram.png" class="socialLogo"></a>
                            <a href="https://www.youtube.com/user/SciTechUK" target="_blank"><img src="./assets/youtube.png" class="socialLogo"></a>
                        </div> 
                    </div>                   
                </div>
            </div>
        </div>
                        
        <!-- The central app showing the detector, events, input, and score -->
        <div  id = "app" class = "main">
            <div id = "startPopup">
                    <div class="difficultyButtonsContainer">
                        Choose difficulty:
                        <button class="difficultyButtons active" id="beginner" value="0">Beginner</button>
                        <button class="difficultyButtons" id="intermediate" value="1">Intermediate</button>
                        <button class="difficultyButtons" id="expert" value="2">Expert</button>
                    </div>                 
                    <button id = "start" value = "start"><a>Start</a></button>
            </div>
            <div id = "main_app">    
                <div class="app_initoutput">
                    <p id="app_correct">
                        Correct: <input value = "0" type = "text" class = "app_correctwrong" id="app_correct_number" disabled/>
                    </p>
                    <p id="app_wrong">
                        Wrong: <input value = "0" type = "text" class = "app_correctwrong" id="app_wrong_number" disabled/>
                    </p>
                </div>
                <div id="detector-holder"> 
                    <div class = "background" id = "cavern">
                        <img src = "assets/Background/BackgroundCavern-01.png" id="cavernImage">
                    </div> 
                    <div id = detectorCanvases>
                        <canvas class = "responsive-canvas" id="detector_core" style="width: 65vmin; height: 65vmin;"> 
                            <img src = "assets/MuonTracker_whole1.png" id = "muon-tracker">
                        </canvas>
                        <canvas class = "responsive-canvas" id = "detector_events" style="width: 65vmin; height: 65vmin;" hidden></canvas> 
                    </div>
                </div>  
                <div class ="app_input">
                    <div class = "userParticle">
                        <p>Particles: </p><textarea type = "text" value = "" id="userParticle" disabled></textarea>
                    </div>         
                    <div class ="inputbuttons">                            
                        <button class ="inButtons" id = "photon" name = "0" value = "0" >Photon</button>
                        <button class ="inButtons" id = "electron" name = "1" value = "1" >Electron</button>
                        <button class ="inButtons" id = "muon" name = "2" value = "2" >Muon</button>
                        <button class ="inButtons" id = "nhadron" name = "3" value = "3" >Neutral Hadron</button>
                        <button class ="inButtons" id = "chadron" name = "4" value = "4" >Charged Hadron</button>
                        
                        <button class ="inButtons" id = "clear" value = "clear" name = "Clear" >Clear</button>
                        <button class ="inButtons" id = "submit" value = "submit" name = "Submit" >Submit</button>
                        <button class ="inButtons" id = "restart" value = "restart" name = "Restart" >Restart</button>
                    </div>
                    <div class = "endgame" hidden>
                        <p>Better luck next time! <br><br> 
                            <a id="correctParticles"></a> particles correctly identified.
                            <p id="missedMessage" hidden>You just missed: <a id = "missedParticles"></a> </p>
                            <p id="extraMessage" hidden>You incorrectly added: <a id = "extraParticles"></a> </p>
                        </p>
                        <button id = "restart_end" value = "restart" name = "Restart" >Restart</button>
                    </div>
                </div>  
            </div>
        </div> 

        <!-- Right-side panel with subdetector info -->
        <div class = "info" id = "moreInfo">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <div class="panelBody" id = "info_body">
                <div class="infoTabsContainer" id="infoTabsContainerRight">
                    <button class="tablinks" onclick="openInfoTab(event, 'subdetBody')">Subdetectors</button>
                    <button class="tablinks" onclick="openInfoTab(event, 'particleBody')">Particles</button>
                </div>
                <div class = "infoTabContent" id = "subdetBody">
                    <div class = "panel-title"><h4>Subdetectors</h4></div>
                    <div class="subdetTab">
                        <h3 class = "tabHeader">Silicon tracker</h3>
                        <img class = "subdetImage" src = "./assets/Subdet/SiHL.png">
                        <p class="tabText">
                            Silicon pixels make a tiny electrical signal when a charged particle passes through it, we can detect this and see where these particles have been. This can also let us know their momentum, which is pretty handy for calculations.
                            <br><br>
                            More on the silicon tracker <a href="https://cms.cern/detector/identifying-tracks" target="_blank">here</a>!
                        </p>
                    </div>
                    <div class="subdetTab">
                        <h3 class = "tabHeader">ECAL</h3>
                        <img class = "subdetImage" src = "./assets/Subdet/ECALHL.png">
                        <p class="tabText">
                            This is the electromagnetic calorimeter; it is an example of what's known as a scintillator. This means when particles like electrons or photons go through it, it produces a flash of light. We can measure this light and from that calculate the energy of the photons and electrons.
                            <br><br>
                            More on the ECAL <a href="https://cms.cern/detector/measuring-energy/energy-electrons-and-photons-ecal" target="_blank">here</a>!
                        </p>
                    </div>           
                    <div class="subdetTab">
                        <h3 class = "tabHeader">HCAL</h3>
                        <img class = "subdetImage" src = "./assets/Subdet/HCALHL.png">
                        <p class="tabText">
                            The hadron calorimeter measures the energy of hadrons – these are particles that are made of quarks (like protons or neutrons). The hadrons will go into a thick absorber layer so the hadrons break down into particles that can be detected by a scintillator layer, just like in the electromagnetic calorimeter. 
                            <br><br>
                            More on the HCAL <a href="https://cms.cern/detector/measuring-energy/energy-hadrons-hcal" target="_blank">here</a>!
                        </p>
                    </div>
                    <div class="subdetTab">
                        <h3 class = "tabHeader">Magnet</h3>
                        <img class = "subdetImage" src = "./assets/Subdet/MagnetHL.png">
                        <p class="tabText">
                            Magnets are incredibly important in particle detectors; they can control the path of charged particles. This is a very large solenoid magnet which makes a magnetic field that is 100,000 times stronger than the Earth’s!
                            <br><br>
                            More on the magnet <a href="https://cms.cern/detector/detecting-muons" target="_blank">here</a>!
                        </p>
                    </div>
                    <div class="subdetTab">
                        <h3 class = "tabHeader">Muon tracker</h3>
                        <img class = "subdetImage" id = "muonHL" src = "./assets/Subdet/MuonHL.png">
                        <p class="tabText">
                            Muons are like electrons but a lot heavier, so they aren’t stopped by the calorimeters. The final part of the detector is designed just to detect muons. The muon trackers show us where the muons have been, then based on how curved the path is we can find the momentum. 
                            <br><br>
                            More on the muon tracker <a href="https://cms.cern/detector/identifying-tracks" target="_blank">here</a>!
                        </p>
                    </div>
                    <div class = "nextPrevBtnInfo" id = "nextPrevBtnSubdet">
                        <button class = "tabButton" type="button" id="prevSubdet" onclick="nextPrev(0, -1, 0)"><i class="arrow left"></i></button>
                        <div class = "tabIndicator" style="text-align:center;">
                            <span class = "subdetStep"></span>
                            <span class = "subdetStep"></span>
                            <span class = "subdetStep"></span>
                            <span class = "subdetStep"></span>
                            <span class = "subdetStep"></span>
                        </div>
                        <button class = "tabButton" type="button" id="nextSubdet" onclick="nextPrev(0, 1, 0)"><i class="arrow right"></i></button>
                    </div>
                </div>                    
                <div class = "infoTabContent" id = "particleBody">
                    <div class = "panel-title" id = "particlesTitle"><h4>Particles</h4></div>                      
                    <div class="particlesTab">
                        <h3 class = "tabHeader">Photon</h3>
                        <p class="tabText">
                            Photons are particles of light. They have no mass, no electric charge and they’re elementary which means they’re not made up of smaller particles. Photons interact with matter a lot, its interactions with the eye allow you to read what’s on the screen right now! When they pass through a detector at CERN they’re detected at the electromagnetic calorimeter.                            </p>
                    </div>
                    <div class="particlesTab">
                        <h3 class = "tabHeader">Electron</h3>
                        <p class="tabText">
                            Electrons are small, stable, electrically charged, elementary particles. They are the foundation of electronics and are also produced in particle collisions at CERN, where the electromagnetic calorimeter can detect them.                             </p>
                    </div>           
                    <div class="particlesTab">
                        <h3 class = "tabHeader">Muon</h3>
                        <p class="tabText">
                            Muons are like electrons except they’re much bigger and much less stable. The detector can’t stop the muons, so they travel right through and it’s only at the outer edge they can be detected in the muon tracker.                            </p>
                    </div>
                    <div class="particlesTab">
                        <h3 class = "tabHeader">Neutral Hadron</h3>
                        <p class="tabText">
                            Hadrons are particles made up of quarks – these are just another type of elementary particle. They can be found in pairs and triplets (or sometimes more!). Neutrons are an example of a neutral hadron; these are found in the nuclei of the atoms which make up everything around us. In our detector they get stopped at the hadronic calorimeter.                            </p>
                    </div>
                    <div class="particlesTab">
                        <h3 class = "tabHeader">Charged Hadron</h3>
                        <p class="tabText">
                            Hadrons are particles made up of quarks – these are just another type of elementary particle. They can be found in pairs and triplets (or sometimes more!). Protons are an example of a charged hadron; these are found in the nuclei of the atoms which make up everything around us. In our detector they get stopped at the hadronic calorimeter.                            </p>
                    </div>
                    <div class = "nextPrevBtnInfo" id = "nextPrevBtnParticle">
                        <button class = "tabButton" type="button" id="prevParticle" onclick="nextPrev(0, 0, -1)"><i class="arrow left"></i></button>
                        <div class = "tabIndicator" style="text-align:center;">
                            <span class = "particleStep"></span>
                            <span class = "particleStep"></span>
                            <span class = "particleStep"></span>
                            <span class = "particleStep"></span>
                            <span class = "particleStep"></span>
                        </div>
                        <button class = "tabButton" type="button" id="nextParticle" onclick="nextPrev(0, 0, 1)"><i class="arrow right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>

    <script src = "particle.js"></script>
    <script src = "detector.js"></script>
    <script src = "UI.js"></script>
    <script src = "app.js"></script>
</body>
</html>